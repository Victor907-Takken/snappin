function hideDomObject(n,t){try{document.querySelector(n).style.display="none";clearInterval(t)}catch(i){console.log("Error in:"+i)}}function initSnapIn(n){let i=document.getElementById("esw_storage_iframe");if(!i)if(window.embedded_svc)initOriginalESW(n.serviceForceURL,n);else{var t=document.createElement("script");t.setAttribute("src",n.snapInJs);t.onload=function(){initOriginalESW(null,n)};document.body.appendChild(t)}}function triggerSnapin(n,t){n===undefined&&history.length>1&&snapinChatGlobalObjNotEmpty()?(n=sendGlobalSnapinObjToJson(),"snapinChatInitiated"in n&&n.snapinChatInitiated&&(eleExist(".helpButtonEnabled #helpButtonSpan > .message",chatClick),pageObserverForProp20("body"),initSnapIn(n))):n&&(n.snapinButtonClicked?customChatNotCreated()&&(n=sendGlobalSnapinObjToJson(),appendCustPreChatSnapinDom(n,t)):(eleExist(".embeddedServiceHelpButton",hideDomObject),eleExist(".embeddedServiceSidebar",hideDomObject),saveGlobalSnapinObjToSession(n),eleExist(".helpButtonEnabled #helpButtonSpan > .message",chatClick),document.getElementById("cusPreChatSnapinDom")&&custPreChatShowAdditionalDetailsInUi(n,t),initSnapIn(n)))}function customChatNotCreated(){let n=document.getElementById("cusPreChat-embeddedServiceHelpButton"),t=document.querySelector(".embeddedServiceSidebar .dockableContainer");return n&&window.getComputedStyle(n).display!="none"&&!t?(document.getElementById("cusPreChat-helpButtonEnabled").click(),!1):!0}function appendCustPreChatSnapinDom(n,t){if(document.getElementById("cusPreChatSnapinDom")){let n=document.querySelector(".embeddedServiceSidebar");(!n||n&&window.getComputedStyle(n).display=="none")&&maximizeCustPrechat();document.querySelector(".embeddedServiceHelpButton .helpButton .uiButton").className!="uiButton helpButtonEnabled"&&agentsOfflinePostChatForm()}else{let i='<div id="cusPreChatSnapinDom" class="cusPreChat-modalContainer"> <div class="cusPreChat-dockableContainer"> <div class="cusPreChat-embeddedServiceSidebarHeader"> <div class="cusPreChat-shortHeader"> <div class="cusPreChat-shortHeaderContent"> <button id="cusPreChat-minimize-btn" class="cusPreChat-minimizeButton cusPreChat-headerItem"> <span class="cusPreChat-assistiveText">Minimize chat<\/span> <span class="cusPreChat-minimize cusPreChat-x-small cusPreChat-embeddedServiceIcon"> <svg focusable="false" aria-hidden="true" data-key="contract_alt" viewBox="0 0 100 100"> <path d="M56.923 45.962h29.615c1.924 0 2.5-2.116.962-3.654l-9.423-9.616 17.308-17.5c.96-.96.96-2.692 0-3.654L88.27 4.423c-.962-.77-2.5-.77-3.655.192L67.308 21.923 57.5 12.5c-1.538-1.538-3.654-.962-3.654.962v29.615c0 1.346 1.73 2.885 3.077 2.885zm-13.846 7.884H13.462c-1.924 0-2.5 2.116-.962 3.654l9.423 9.615-17.308 17.5c-.96.962-.96 2.693 0 3.654l7.116 7.115c.962.96 2.5.96 3.655 0l17.5-17.5 9.807 9.423c1.346 1.73 3.462 1.154 3.462-.77V57.115c0-1.346-1.73-3.27-3.077-3.27z"> <\/path> <\/svg> <\/span> <\/button> <h2 class="cusPreChat-headerText"> <div class="cusPreChat-headerTextContent"> <span id="cusPreChat-headerTextLabel">'+t.chatHeader+'<\/span> <span id="cusPreChat-headerSubtext"> <\/span><\/div><\/h2> <button id="cusPreChat-close-btn" class="cusPreChat-closeButton cusPreChat-headerItem"> <span class="cusPreChat-assistiveText">Close chat<\/span> <span class="cusPreChat-x-small cusPreChat-embeddedServiceIcon"> <svg focusable="false" aria-hidden="true" data-key="close" viewBox="0 0 100 100"> <path d="M65.577 53.73l27.5-27.71c1.27-1.27 1.27-3.174 0-4.445l-4.23-4.44c-1.272-1.27-3.175-1.27-4.445 0L56.694 44.847c-.847.845-2.115.845-2.96 0L26.018 16.922c-1.27-1.27-3.174-1.27-4.445 0l-4.44 4.442c-1.27 1.27-1.27 3.174 0 4.444l27.71 27.71c.846.846.846 2.116 0 2.962L16.923 84.403c-1.27 1.27-1.27 3.174 0 4.444l4.442 4.442c1.27 1.268 3.174 1.268 4.444 0l27.71-27.713c.846-.847 2.116-.847 2.962 0L84.19 93.29c1.27 1.268 3.174 1.268 4.445 0l4.44-4.445c1.27-1.268 1.27-3.17 0-4.44l-27.5-27.712c-.847-.847-.847-2.115 0-2.96z"> <\/path> <\/svg> <\/span> <\/button> <\/div><\/div><\/div><div class="cusPreChat-sidebarBody"> <div id="cusPreChat-sidebarLoadingIndicator" class="cusPreChat-sidebarLoadingIndicator" style="display: none;"> <div class="cusPreChat-loadingBallContainer cusPreChat-animated cusPreChat-embeddedServiceLoadingBalls"> <span class="cusPreChat-loadingBall cusPreChat-first"> <\/span> <span class="cusPreChat-loadingBall cusPreChat-second"> <\/span> <span class="cusPreChat-loadingBall cusPreChat-third"> <\/span><\/div><\/div><div id="cusPreChat-alertMsgContainer" class="cusPreChat-sidebarLoadingIndicator" style="display: none;"><div style="margin: 2.5em 1.75em;">'+t.chatUnavailableMessage+'<\/div><div><button id="cusPreChat-CloseChat" class="cusPreChat-embeddedServiceSidebarButton" type="button"><span class="cusPreChat-label cusPreChat-bBody">Close Chat<\/span><\/button><\/div><\/div><div id="cusPreChat-hideWhileLoading" class="cusPreChat-activeFeature cusPreChat-hideWhileLoading"> <div class="cusPreChat-featureBody cusPreChat-embeddedServiceSidebarFeature"> <div class="cusPreChat-stateBody cusPreChat-embeddedServiceSidebarState"> <div class="cusPreChat-prechatUI cusPreChat-embeddedServiceLiveAgentStatePrechatDefaultUI"> <div class="cusPreChat-formContent cusPreChat-embeddedServiceSidebarForm"> <ul class="cusPreChat-fieldList"> <div id="readonlyPreChatContainer" class="cusPreChat-readonlyContainer" style="margin: 0 1.5em 6px 1.5em; text-align: left;position: relative;font-size: .75em;color: #444444;"> <div style="font-size: 1.2em;">Precision M4500<\/div><div> <b>'+t.serviceTag+":<\/b> 123432<\/div><div> <b>"+t.issueType+':<\/b> Keyboard not working<\/div><\/div><li class="cusPreChat-inputSplitName cusPreChat-embeddedServiceSidebarFormField"> <span class="cusPreChat-split-field-container"> <div class="cusPreChat-uiInput cusPreChat-uiInputText cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel"> <span class="">'+t.firstName+'<\/span><\/label> <input id="cusPreChat-FirstName" class="cusPreChat-FirstName form-control cusPreChat-input" maxlength="121" type="text" aria-describedby="" placeholder="" required="" aria-required="true"><\/div><\/span> <\/li><li class="cusPreChat-inputSplitName cusPreChat-embeddedServiceSidebarFormField"> <span class="cusPreChat-split-field-container"> <div class="cusPreChat-uiInput cusPreChat-uiInputText cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" for="LastName"> <span class="">'+t.lastName+'<\/span> <\/label> <input id="cusPreChat-LastName" class="cusPreChat-LastName form-control cusPreChat-input" maxlength="121" type="text" aria-describedby="" placeholder="" required="" aria-required="true"><\/div><\/span> <\/li><li class="cusPreChat-inputEmail cusPreChat-embeddedServiceSidebarFormField"> <div class="cusPreChat-uiInput cusPreChat-uiInputEmail cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" for="Email"> <span>'+t.emailAddress+'<\/span><\/label> <input id="cusPreChat-Email" class="cusPreChat-Email form-control cusPreChat-input" maxlength="80" type="email" aria-describedby="" placeholder="" required="" aria-required="true"><\/div><\/li><li class="cusPreChat-inputPhone cusPreChat-embeddedServiceSidebarFormField"> <div class="cusPreChat-uiInput cusPreChat-uiInputPhone cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" for="Primary_Phone__c"> <span>'+t.phoneNumber+'<\/span> <\/label> <input id="cusPreChat-Phone" class="cusPreChat-Primary_Phone__c form-control cusPreChat-input" maxlength="40" type="tel" aria-describedby="" placeholder="" required="" aria-required="true"><\/div><\/li><li class="cusPreChat-inputText cusPreChat-embeddedServiceSidebarFormField"> <div class="cusPreChat-uiInput cusPreChat-uiInputText cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" for="Issue_Description__c"> <span>'+t.issueDescription+'<\/span> <\/label> <textarea id="cusPreChat-IssueDescription" class="cusPreChat-Issue_Description__c form-control cusPreChat-input coveo-query" maxlength="'+t.issueDescriptionLength+'" type="text" aria-describedby="" placeholder="" required="" data-coveo-id="txtIssueDetails"><\/textarea><div id="snappinCharCounter" style="text-align:right;position:relative;font-size:.75em;line-height: 1.5;margin-right: .75em;margin-left: .5em;margin-top: 8px; float: right; color:#767676">0 / '+t.issueDescriptionLength+" "+t.characters+'<\/div><\/div><\/li><\/ul>  <div id="PrechatCoveo" style="display:none;"><\/div> <div style="font-size: 12px;color:#767676;text-align: left;margin: 2.5em 1.75em; font-style: italic;color:#444444;">'+t.customerPrivacyDesc+'<\/div><\/div><div class="cusPreChat-buttonWrapper cusPreChat-embeddedServiceSidebarForm"> <button id="cusPreChat-startChat" class="cusPreChat-startButton cusPreChat-uiButton--default cusPreChat-uiButton cusPreChat-embeddedServiceSidebarButton" type="button"> <span class="cusPreChat-label cusPreChat-bBody">'+t.startChat+'<\/span> <\/button><\/div><\/div><\/div><\/div><\/div><\/div><\/div><\/div><div id="cusPreChat-embeddedServiceHelpButton" class="cusPreChat-embeddedServiceHelpButton" style="display: none;"> <div class="cusPreChat-helpButton" style="width: 168px;"> <button id="cusPreChat-helpButtonEnabled" class="cusPreChat-uiButton cusPreChat-helpButtonEnabled" href="javascript:void(0)" > <span class="cusPreChat-embeddedServiceIcon" aria-hidden="true" style="display: inline-block; z-index: 1; float: left"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="chat" width="100%" height="100%" style="height: 18px; width: 18px;"> <path d="M12 1.8C5.9 1.8 1 6.4 1 12c0 1.7.5 3.4 1.3 4.8.1.3.2.6.1.8l-1.4 4c-.2.3.2.6.6.6l3.9-1.6c.3-.1.5 0 .8.1 1.7.9 3.7 1.5 5.8 1.5 6 0 11-4.5 11-10.2C23 6.4 18.1 1.8 12 1.8zm-5.5 12c-1.1 0-1.9-.8-1.9-1.8s.8-1.8 1.9-1.8 1.8.8 1.8 1.8-.8 1.8-1.8 1.8zm5.5 0c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8 1.8.8 1.8 1.8-.8 1.8-1.8 1.8zm5.5 0c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8 1.9.8 1.9 1.8-.8 1.8-1.9 1.8z"><\/path> <\/svg> <\/span> <div class="cusPreChat-helpButtonLabel" id="cusPreChat-helpButtonSpan" aria-live="polite" aria-atomic="true"> <span class="cusPreChat-assistiveText">Live chat:<\/span> <span class="cusPreChat-message">'+t.chatHeader+"<\/span><\/div><\/button> <\/div><\/div>",r=document.body||document.getElementsByTagName("body")[0];r.insertAdjacentHTML("beforeend",i);prePopulateCustPreFormValues(n);custPreFormShowIssueDetailsCharRemainingOnKeyUp(t);custPreChatKeypressFieldValidation(t);custPreChatShowAdditionalDetailsInUi(n,t);document.getElementById("cusPreChat-startChat").addEventListener("click",function(){custPrechatInitiateChat(n,t)});document.getElementById("cusPreChat-minimize-btn").addEventListener("click",minimizeCustPrechat);document.getElementById("cusPreChat-close-btn").addEventListener("click",function(){closeCustPrechat(t)});document.getElementById("cusPreChat-helpButtonEnabled").addEventListener("click",maximizeCustPrechat);n.isCoveoSearchEnabled===!0&&(httpCoveoGetAsync(n.coveoViewUrl+"?isheaderRequired=false",apendToAHoverDiv),coveoInit(n,t))}callDellmetricsTrack("890.220.010")}function httpCoveoGetAsync(n,t){try{var i=new XMLHttpRequest;i.onreadystatechange=function(){i.readyState==4&&i.status==200&&t(i.responseText)};i.open("GET",n,!0);i.send(null)}catch(r){console.log("Error in: "+r)}}function apendToAHoverDiv(n){$("#PrechatCoveo").append(n)}function coveoInit(n,t){try{n.isCoveoSearchEnabled===!0&&(isCoveoSearchEnabled=!0,coveoHeader=t.coveoHeader,setTimeout(function(){$.getScript(n.coveoJsUrl,function(){$.getScript(n.coveoDeflectionjs,function(){var t="",i=!1;n.emcProductId?(t=n.emcProductId,i=!0):t=n.productCode;InitiateCoveoSearch(t,n.productName,n.categoryPath,i,"chat","",n.issueVal)})});$("#cusPreChat-IssueDescription").on("keyup",function(){GetCoveoPopoverResult(n.coveoSetDelay)});$("#cusPreChat-IssueDescription").on("click",function(){GetCoveoPopoverResult(n.coveoSetDelay)});$("div").on("scroll",function(){$("#prechatCoveo").css("display")=="block"&&GetCoveoPopoverResult(0)});$(window).on("scroll",function(){$("#prechatCoveo").css("display")=="block"&&GetCoveoPopoverResult(0)})},1e3))}catch(i){console.log("Error in: "+i)}}function GetCoveoPopoverResult(n){(n===undefined||n==="")&&(n=1200);var t=$("#cusPreChat-IssueDescription").val().length;isCoveoSearchEnabled===!0&&t>1&&$("#search").hasClass("coveo-hidden")===!1&&$("#search").find("div.CoveoResult").length!==0?setTimeout(function(){$("#cusPreChat-IssueDescription").popover({html:!0,template:'<div class="popover" id="prechatCoveo"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>',title:function(){return"<b>"+coveoHeader+"<\/b><button id='popovercloseid' type='button' data-dismiss='popover' class='close' onclick='$(&quot;#cusPreChat-IssueDescription&quot;).popover(&quot;hide&quot;)' return false;>&times;<\/button>"},content:function(){return $("#searchCoveo").html()},container:"body",placement:"left"}).data("bs.popover").tip().addClass("popoverPosition");$("#cusPreChat-IssueDescription").popover("show")},n):$("#cusPreChat-IssueDescription").popover("destroy")}function prePopulateCustPreFormValues(n){"firstName"in n&&(document.getElementById("cusPreChat-FirstName").value=n.firstName);"lastName"in n&&(document.getElementById("cusPreChat-LastName").value=n.lastName);"email"in n&&(document.getElementById("cusPreChat-Email").value=n.email);"phoneNo"in n&&(document.getElementById("cusPreChat-Phone").value=n.phoneNo);"issueDescription"in n&&(document.getElementById("cusPreChat-IssueDescription").value=n.issueDescription)}function custPreFormShowIssueDetailsCharRemainingOnKeyUp(n){try{document.getElementById("cusPreChat-IssueDescription").onkeyup=function(){custPreFormShowIssueDetailsCharRemaining(n)}}catch(t){console.log("Error in:"+t)}}function custPreFormShowIssueDetailsCharRemaining(n){maxCharLength=n.issueDescriptionLength;innerTextColor="#767676";currentCharLength=document.getElementById("cusPreChat-IssueDescription").value.length;document.getElementById("snappinCharCounter").innerText=currentCharLength+" / "+maxCharLength+" "+n.characters;innerTextColor=currentCharLength===parseInt(maxCharLength)?"#c23934":"#767676";document.getElementById("snappinCharCounter").style.color=innerTextColor}function custPreChatKeypressFieldValidation(n){function r(i,r){/[0-9 !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(t(i))==!0?(i.preventDefault(),alert(n.pasteInvalidTextMsg)):r==="cusPreChat-FirstName"&&document.getElementById("ErrMsg_cusPreChat-FirstName")?removeDomElementbyId("ErrMsg_cusPreChat-FirstName"):r==="cusPreChat-LastName"&&document.getElementById("ErrMsg_cusPreChat-LastName")&&removeDomElementbyId("ErrMsg_cusPreChat-LastName")}function t(n){return n.clipboardData&&n.clipboardData.getData?n.clipboardData.getData("text/plain"):null}document.getElementById("cusPreChat-Phone").onkeypress=function(n){var t=[],r=n.which||n.keyCode;for(i=48;i<58;i++)t.push(i);t.push(45);t.push(8);t.push(9);t.indexOf(r)>=0?document.getElementById("ErrMsg_cusPreChat-Phone")&&removeDomElementbyId("ErrMsg_cusPreChat-Phone"):n.preventDefault()};document.getElementById("cusPreChat-FirstName").onkeypress=function(n){var t=n.which||n.keyCode;t>64&&t<91||t>96&&t<123||t==8||t==9?document.getElementById("ErrMsg_cusPreChat-FirstName")&&removeDomElementbyId("ErrMsg_cusPreChat-FirstName"):n.preventDefault()};document.getElementById("cusPreChat-LastName").onkeypress=function(n){var t=n.which||n.keyCode;t>64&&t<91||t>96&&t<123||t==8||t==9?document.getElementById("ErrMsg_cusPreChat-LastName")&&removeDomElementbyId("ErrMsg_cusPreChat-LastName"):n.preventDefault()};document.getElementById("cusPreChat-Email").onkeypress=function(n){var t=n.which||n.keyCode;t>63&&t<91||t>96&&t<123||t>47&&t<58||t==45||t==46||t==95||t==8||t==9?document.getElementById("ErrMsg_cusPreChat-Email")&&removeDomElementbyId("ErrMsg_cusPreChat-Email"):n.preventDefault()};document.getElementById("cusPreChat-IssueDescription").onkeypress=function(n){var t=n.which||n.keyCode;t==62||t==60?n.preventDefault():document.getElementById("ErrMsg_cusPreChat-IssueDescription")&&removeDomElementbyId("ErrMsg_cusPreChat-IssueDescription")};document.getElementById("cusPreChat-FirstName").addEventListener("paste",function(n){r(n,"cusPreChat-FirstName")});document.getElementById("cusPreChat-LastName").addEventListener("paste",function(n){r(n,"cusPreChat-LastName")});document.getElementById("cusPreChat-IssueDescription").addEventListener("paste",function(i){/[<>]/.test(t(i))==!0?(i.preventDefault(),alert(n.pasteInvalidTextMsg)):document.getElementById("ErrMsg_cusPreChat-IssueDescription")&&removeDomElementbyId("ErrMsg_cusPreChat-IssueDescription")});document.getElementById("cusPreChat-Email").addEventListener("paste",function(i){/[!#$%^&*()+\=\[\]{};':"\\|,<>\/?]/.test(t(i))==!0?(i.preventDefault(),alert(n.pasteInvalidTextMsg)):document.getElementById("ErrMsg_cusPreChat-Email")&&removeDomElementbyId("ErrMsg_cusPreChat-Email")});document.getElementById("cusPreChat-Phone").addEventListener("paste",function(i){/^[0-9-]*$/.test(t(i))==!1?(i.preventDefault(),alert(n.pasteInvalidTextMsg)):document.getElementById("ErrMsg_cusPreChat-Phone")&&removeDomElementbyId("ErrMsg_cusPreChat-Phone")})}function custPreChatShowAdditionalDetailsInUi(n,t){document.getElementById("readonlyPreChatContainer")&&removeDomElement(document.getElementById("readonlyPreChatContainer"));let r=document.querySelector(".cusPreChat-sidebarBody .cusPreChat-prechatUI  .cusPreChat-embeddedServiceSidebarForm ul.cusPreChat-fieldList"),i;i=n.productName==null?'<div id="readonlyPreChatContainer" class="readonlyContainer" style="margin: 0 1.5em 6px 1.2em; text-align: left;position: relative;font-size: .75em;color: #444444;margin-bottom: 0px;"><div><b>'+t.serviceTag+":<\/b> "+n.serviceTag+"<\/div><div><b>"+t.issueType+':<\/b> <span class="coveo-query" data-coveo-id="IssueDesc" id="preChatIssueDesc" style="font-size: 12px;">'+n.issueVal+"<\/span><\/div><\/div>":'<div id="readonlyPreChatContainer" class="readonlyContainer" style="margin: 0 1.5em 6px 1.2em; text-align: left;position: relative;font-size: .75em;color: #444444;"><div style="font-size: 1.2em;">'+n.productName+"<\/div><div><b>"+t.serviceTag+":<\/b> "+n.serviceTag+"<\/div><div><b>"+t.issueType+':<\/b> <span class="coveo-query" data-coveo-id="IssueDesc" id="preChatIssueDesc" style="font-size:12px;">'+n.issueVal+"<\/span><\/div><\/div>";r.insertAdjacentHTML("afterbegin",i)}function custPreFormValidation(n){let t,r=document.getElementById("cusPreChat-FirstName"),u=document.getElementById("cusPreChat-LastName"),i=document.getElementById("cusPreChat-Email"),f=document.getElementById("cusPreChat-Phone"),e=document.getElementById("cusPreChat-IssueDescription");if(document.getElementById("ErrMsg_cusPreChat-Email")){let n=document.getElementById("ErrMsg_cusPreChat-Email");n.parentNode.removeChild(n)}return t=i.value?cusPreChatInvalidEmail(i,n):cusPreChatEleIsEmpty(i,n.emailRequiredValidation),document.getElementById("ErrMsg_cusPreChat-FirstName")?t=!1:r.value||(t=cusPreChatEleIsEmpty(r,n.firstNameValidation)),document.getElementById("ErrMsg_cusPreChat-LastName")?t=!1:u.value||(t=cusPreChatEleIsEmpty(u,n.lastNameValidation)),document.getElementById("ErrMsg_cusPreChat-Phone")?t=!1:f.value||(t=cusPreChatEleIsEmpty(f,n.phoneRequiredValidation)),document.getElementById("ErrMsg_cusPreChat-IssueDescription")?t=!1:e.value||(t=cusPreChatEleIsEmpty(e,n.issueDescriptionValidation)),t===undefined&&(t=!0),t}function cusPreChatEleIsEmpty(n,t){return cusPreChatErrorMsgPlaceholder(n,t),!1}function cusPreChatInvalidEmail(n,t){if(!cusPreChatvalidateEmail(n.value)||cusPreChatBlockListEmailValidation(n.value,t.blocklistEmails))return cusPreChatErrorMsgPlaceholder(n,t.emailValidation),!1}function cusPreChatvalidateEmail(n){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)}function cusPreChatBlockListEmailValidation(n,t){var u=t.split("|"),n=n.toUpperCase(),r;for(i=0;i<u.length;i++)if(r=u[i],r=r.toUpperCase(),n===r)return!0;return!1}function cusPreChatErrorMsgPlaceholder(n,t){try{let r=n.parentNode,i=document.createElement("ul");i.innerHTML='<li class="cusPreChat-form-element__help">'+t+"<\/li>";i.id="ErrMsg_"+n.id;i.className="cusPreChat-has-error cusPreChat-uiInput";r.parentNode.insertBefore(i,r.nextSibling)}catch(i){console.log(i)}}function removeDomElementbyId(n){if(document.getElementById(n)){let t=document.getElementById(n);t.parentNode.removeChild(t)}}function minimizeCustPrechat(){document.getElementById("cusPreChat-embeddedServiceHelpButton").style.display="block";document.getElementById("cusPreChatSnapinDom").style.display="none";$("#cusPreChat-IssueDescription").popover("destroy")}function closeCustPrechat(n){document.getElementById("cusPreChatSnapinDom").style.display="none";let t=document.querySelectorAll(".cusPreChat-has-error");t.forEach(function(n){removeDomElement(n)});removecustFormValues();custPreFormShowIssueDetailsCharRemaining(n);$("#cusPreChat-IssueDescription").popover("destroy")}function maximizeCustPrechat(){document.querySelector(".embeddedServiceHelpButton .helpButton .uiButton")&&document.querySelector(".embeddedServiceHelpButton .helpButton .uiButton").className!="uiButton helpButtonEnabled"||!document.querySelector(".embeddedServiceHelpButton .helpButton .uiButton")?agentsOfflinePostChatForm():(document.getElementById("cusPreChat-sidebarLoadingIndicator").style.display="none",document.getElementById("cusPreChat-hideWhileLoading").style.display="block",document.getElementById("cusPreChat-embeddedServiceHelpButton").style.display="none",document.getElementById("cusPreChatSnapinDom").style.display="block",document.getElementById("cusPreChat-minimize-btn").style.display="block",document.getElementById("cusPreChat-close-btn").style.display="block");document.querySelector(".embeddedServiceHelpButton")&&(document.querySelector(".embeddedServiceHelpButton").style.display="none")}function addCustFormDetailsTo(n){return n.c_firstName=document.getElementById("cusPreChat-FirstName").value,n.c_lastName=document.getElementById("cusPreChat-LastName").value,n.c_email=document.getElementById("cusPreChat-Email").value,n.c_phoneNo=document.getElementById("cusPreChat-Phone").value,n.c_issueDescription=document.getElementById("cusPreChat-IssueDescription").value,n}function removecustFormValues(){inputFields=document.querySelectorAll(".cusPreChat-input");inputFields.forEach(function(n){n.value&&(n.value=null)});prePopulateCustPreFormValues(snapInObject)}function snapinChatGlobalObjNotEmpty(){return snapInObjectGlobal=sessionStorage.getItem("snapInObjectSession"),snapInObjectGlobal!=null?!0:!1}function saveGlobalSnapinObjToSession(n){n&&(snapInObjectGlobal=JSON.stringify(n),sessionStorage.setItem("snapInObjectSession",snapInObjectGlobal))}function sendGlobalSnapinObjToJson(){return snapInObjectGlobal=sessionStorage.getItem("snapInObjectSession"),snapInObject=JSON.parse(snapInObjectGlobal)}function loadingSnapinQueue(){document.getElementById("cusPreChat-sidebarLoadingIndicator").style.display="flex";document.getElementById("cusPreChat-hideWhileLoading").style.display="none";document.getElementById("cusPreChat-minimize-btn").style.display="none";document.getElementById("cusPreChat-close-btn").style.display="none";snapinChatInitiatedState(!0);removeLoaderIn10()}function snapinQueueLoaded(){document.querySelector(".embeddedServiceSidebar")&&document.getElementById("cusPreChatSnapinDom")&&(document.querySelector(".embeddedServiceSidebar").style.display="block",document.getElementById("cusPreChatSnapinDom").style.display="none",document.getElementById("cusPreChat-alertMsgContainer").style.display="none",document.getElementById("cusPreChat-hideWhileLoading").style.display="block",document.getElementById("cusPreChat-minimize-btn").style.display="block",document.getElementById("cusPreChat-close-btn").style.display="block")}function agentsOfflinePostChatForm(){snapinChatInitiatedState(!1);document.getElementById("cusPreChatSnapinDom").style.display="block";document.getElementById("cusPreChat-sidebarLoadingIndicator").style.display="none";document.getElementById("cusPreChat-alertMsgContainer").style.display="flex";document.getElementById("cusPreChat-hideWhileLoading").style.display="none";document.getElementById("cusPreChat-minimize-btn").style.display="none";document.getElementById("cusPreChat-close-btn").style.display="none";document.getElementById("cusPreChat-CloseChat").addEventListener("click",function(){document.getElementById("cusPreChat-embeddedServiceHelpButton").style.display="none";document.getElementById("cusPreChat-alertMsgContainer").style.display="none";document.getElementById("cusPreChat-alertMsgContainer").style.display="none";document.getElementById("cusPreChat-hideWhileLoading").style.display="block";document.getElementById("cusPreChatSnapinDom").style.display="none"})}function removeLoaderIn10(){setTimeout(function(){let n=document.getElementById("cusPreChatSnapinDom");n&&window.getComputedStyle(n).display!="none"&&(document.getElementById("cusPreChatSnapinDom").style.display="none",document.querySelector(".embeddedServiceHelpButton")&&(document.querySelector(".embeddedServiceHelpButton").style.display="block"));document.querySelector(".embeddedServiceHelpButton .helpButton .uiButton").className!="uiButton helpButtonEnabled"&&snapinChatInitiatedState(!1);hideResumeSnapinLoader()},3e4)}function snapinChatInitiatedState(n){snapInObject=sendGlobalSnapinObjToJson();snapInObject.snapinChatInitiated=n;saveGlobalSnapinObjToSession(snapInObject)}function custPrechatInitiateChat(n,t){custPreFormValidation(t)&&(n=addCustFormDetailsTo(n),saveGlobalSnapinObjToSession(n),pageObserverForProp20("body"),loadingSnapinQueue(),removecustFormValues(),n=sendGlobalSnapinObjToJson(),"snapinChatInitiated"in n&&n.snapinChatInitiated&&eleExistWithVariable(".helpButtonEnabled #helpButtonSpan > .message",chatClick),eleExistWithVariable(".embeddedServiceSidebar .startButton",chatStarted,n));$("#cusPreChat-IssueDescription").popover("destroy")}function initOriginalESW(n,t){snapInClickListners();snapinChatGlobalServiceTag=t.serviceTag;snapinChatGlobalIssueType=t.issueVal;snapinChatGlobalProductName=t.productName;embedded_svc.settings.displayHelpButton=!0;embedded_svc.settings.defaultMinimizedText="Chat Now";embedded_svc.settings.enabledFeatures=["LiveAgent"];embedded_svc.settings.entryFeature="LiveAgent";translatedLabels="language"in t?translation(t.language):translation("en");embedded_svc.settings.language=translatedLabels.language;embedded_svc.settings.extraPrechatFormDetails=[{label:translatedLabels.firstName,transcriptFields:["FirstName__c"]},{label:translatedLabels.lastName,transcriptFields:["LastName__c"]},{label:translatedLabels.primPhone,transcriptFields:["ContactNumber__c"]},{label:translatedLabels.emailAdd,transcriptFields:["Email__c"]},{label:"Subject",value:t.issueVal,transcriptFields:["Issue__c"]},{label:"Service Tag",value:t.serviceTag,transcriptFields:["Service_Tag__c"]},{label:translatedLabels.issueDesc,transcriptFields:["Description__c"]}];embedded_svc.settings.extraPrechatInfo=[{entityFieldMaps:[{doCreate:!1,doFind:!0,fieldName:"LastName",isExactMatch:!0,label:translatedLabels.lastName},{doCreate:!1,doFind:!0,fieldName:"FirstName",isExactMatch:!0,label:translatedLabels.firstName},{doCreate:!1,doFind:!0,fieldName:"Email",isExactMatch:!0,label:translatedLabels.emailAdd},{doCreate:!1,doFind:!0,fieldName:"Primary_Phone__c",isExactMatch:!0,label:translatedLabels.primPhone}],entityName:"Contact",saveToTranscript:""},{entityFieldMaps:[{doCreate:!1,doFind:!0,fieldName:"Name",isExactMatch:!0,label:"Service Tag"}],entityName:"Asset",saveToTranscript:"Asset__c"},{entityFieldMaps:[{doCreate:!1,doFind:!0,fieldName:"Issue_Description__c",isExactMatch:!0,label:translatedLabels.issueDesc}],entityName:"Case"}];var i=null,r=null,u=null,f=null,e=null;i="c_firstName"in t?t.c_firstName:"FirstName";r="c_lastName"in t?t.c_lastName:"LastName";u="c_email"in t?t.c_email:"email@dell.com";e="c_phoneNo"in t?t.c_phoneNo:"123";f="c_issueDescription"in t?t.c_issueDescription:"issueDescription";embedded_svc.settings.prepopulatedPrechatFields={FirstName:i,LastName:r,Email:u,Primary_Phone__c:e,Issue_Description__c:f};embedded_svc.addEventHandler("onConnectionError",function(){snapinChatInitiatedState(!1)});embedded_svc.addEventHandler("onIdleTimeoutOccurred",function(){snapinChatInitiatedState(!1)});embedded_svc.addEventHandler("onChatEndedByChasitor",function(){snapinChatInitiatedState(!1)});embedded_svc.addEventHandler("onChatEndedByAgent",function(){snapinChatInitiatedState(!1)});embedded_svc.addEventHandler("onAgentMessage",function(){snapinChatInitiatedState(!0)});embedded_svc.init(t.snapInInitURL,t.snapInLAURL,n,t.organizationId,t.componentName,{baseLiveAgentContentURL:t.baseLiveAgentContentURL,deploymentId:t.deploymentId,buttonId:t.buttonId,baseLiveAgentURL:t.baseLiveAgentURL,eswLiveAgentDevName:t.LiveAgentDevName,isOfflineSupportEnabled:!1})}function triggerResumeSnapin(n){var i,t;try{if(snapinChatGlobalObjNotEmpty()){showResumeSnapinLoader();let n=document.querySelector(".helpButtonEnabled #helpButtonSpan > .message");n.innerText==="Chat Now"&&n.click()}else pageObserverForProp20("body"),n.snapinResumeChatInitiated=!1,saveGlobalSnapinObjToSession(n),showResumeSnapinLoader(),i=function(t){snapinChatGlobalIssueType=n.issueVal;snapinChatGlobalServiceTag=n.serviceTag;"productName"in n&&(snapinChatGlobalProductName=n.productName);eleExist(".helpButtonEnabled #helpButtonSpan > .message",resumeChatClick);embedded_svc.settings.displayHelpButton=!0;translatedLabels="language"in n?translation(n.language):translation("en");embedded_svc.settings.language=translatedLabels.language;embedded_svc.settings.enabledFeatures=["LiveAgent"];embedded_svc.settings.entryFeature="LiveAgent";embedded_svc.settings.storageDomain=n.domainName;embedded_svc.settings.defaultMinimizedText="Chat Now";embedded_svc.settings.extraPrechatFormDetails=[{label:"Delta Sr",value:n.srNumber,transcriptFields:["Delta_SR__c"]},{label:translatedLabels.firstName,name:"FirstName",value:n.firstName,displayToAgent:!0},{label:translatedLabels.lastName,value:n.lastName,displayToAgent:!0}];embedded_svc.settings.extraPrechatInfo=[{entityFieldMaps:[{doCreate:!0,doFind:!0,fieldName:"Delta_SR__c",isExactMatch:!0,label:"Delta Sr"}],entityName:"Case"}];embedded_svc.init(n.snapInInitURL,n.snapInLAURL,t,n.organizationId,n.componentName,{baseLiveAgentContentURL:n.baseLiveAgentContentURL,deploymentId:n.deploymentId,buttonId:n.buttonId,baseLiveAgentURL:n.baseLiveAgentURL,eswLiveAgentDevName:n.LiveAgentDevName,isOfflineSupportEnabled:!1})},window.embedded_svc?i(n.serviceForceURL,n.srNumber):(t=document.createElement("script"),t.setAttribute("src",n.snapInJs),t.onload=function(){i(null,n.srNumber)},document.body.appendChild(t))}catch(r){console.log("Error in: "+r)}}function showResumeSnapinLoader(){if(snapInObject=sendGlobalSnapinObjToJson(),!snapInObject.snapinResumeChatInitiated)if(saveGlobalSnapinObjToSession(snapInObject),document.getElementById("cusResumeSnapIn-loader"))document.getElementById("cusResumeSnapIn-loader").style.display="block";else{let n=document.body||document.getElementsByTagName("body")[0];n.insertAdjacentHTML("beforeend",'<div id="cusResumeSnapIn-loader" class="cusPreChat-embeddedServiceHelpButton"><div class="cusPreChat-helpButton" style="width: 168px;"><div class="cusPreChat-uiButton" style="cursor: default;"><div class="cusPreChat-helpButtonLabel"><span class="cusPreChat-message">Loading<\/span><\/div><\/div><\/div><\/div>')}}function hideResumeSnapinLoader(){document.getElementById("cusResumeSnapIn-loader")&&(document.getElementById("cusResumeSnapIn-loader").style.display="none",snapInObject=sendGlobalSnapinObjToJson(),snapInObject.snapinResumeChatInitiated=!0,saveGlobalSnapinObjToSession(snapInObject))}function chatClick(n,t){try{snapInObject=sendGlobalSnapinObjToJson();("snapinChatInitiated"in snapInObject&&snapInObject.snapinChatInitiated&&document.querySelector(n).innerText==="Chat Now"||document.querySelector(n).innerText==="Chat Now")&&document.querySelector(n).click();clearInterval(t)}catch(i){console.log("Error in:"+i)}}function resumeChatClick(n,t){try{document.querySelector(n).innerText==="Chat Now"&&document.querySelector(n).click();clearInterval(t)}catch(i){console.log("Error in:"+i)}}function chatStarted(n,t,i){try{document.querySelector(".embeddedServiceHelpButton .helpButton .uiButton").className==="uiButton helpButtonEnabled"?u(i,r):(agentsOfflinePostChatForm(),clearInterval(t));function r(){i=sendGlobalSnapinObjToJson();"snapinChatInitiated"in i&&i.snapinChatInitiated&&(document.querySelector(n).click(),clearInterval(t))}function u(n,t){let i=embedded_svc.sidebarInstanceMap[Object.keys(embedded_svc.sidebarInstanceMap)[0]].getActiveState(),r=i.get("v.prechatFields");r.forEach(function(t){t.name==="FirstName"?t.value=n.c_firstName:t.name==="LastName"?t.value=n.c_lastName:t.name==="Email"?t.value=n.c_email:t.name==="Primary_Phone__c"?t.value=n.c_phoneNo:t.name==="Issue_Description__c"&&(t.value=n.c_issueDescription)});i.set("v.prechatFields",r);t()}}catch(r){console.log("Error in:"+r)}}function translation(n){return n=="de"?(this.issue="Issue",this.firstName="Vorname",this.lastName="Nachname",this.emailAdd="E-Mail",this.primPhone="Primair telefoonnummer",this.issueDesc="Probleem Beschrijving",this.characters="characters",this.language="de"):n=="ja"?(this.issue="Issue",this.firstName="名",this.lastName="姓",this.emailAdd="メール",this.primPhone="主に使う電話番号",this.issueDesc="問題の説明",this.characters="characters",this.language="ja"):n=="ko"?(this.issue="Issue",this.firstName="이름",this.lastName="성",this.emailAdd="이메일",this.primPhone="기본 전화 번호",this.issueDesc="문제 설명",this.characters="characters",this.language="ko"):n=="es"?(this.issue="Issue",this.firstName="Nombre",this.lastName="Apellidos",this.emailAdd="Correo electrónico",this.primPhone="Número de teléfono primario",this.issueDesc="descripcion del problema",this.characters="characters",this.language="es"):n=="cn"?(this.issue="Issue",this.firstName="名",this.lastName="姓",this.emailAdd="电子邮件",this.primPhone="最常用的电话号码",this.issueDesc="问题说明",this.characters="characters",this.language="zh-CN"):n=="pt"?(this.issue="Issue",this.firstName="Nome",this.lastName="Sobrenome",this.emailAdd="Email",this.primPhone="Número de Telefone Principal",this.issueDesc="descrição do problema",this.characters="characters",this.language="pt"):n=="nl"||n=="nl_NL"?(this.issue="Issue",this.firstName="Voornaam",this.lastName="Achternaam",this.emailAdd="E-mail",this.primPhone="Primair telefoonnummer",this.issueDesc="Probleem Beschrijving",this.characters="characters",this.language="nl"):(this.issue="Issue",this.firstName="First Name",this.lastName="Last Name",this.emailAdd="Email Address",this.primPhone="Primary Phone Number",this.issueDesc="Issue Description",this.characters="characters",this.language="en"),console.log("Language = "+this.language),this}function snapInClickListners(){window.addEventListener("click",function(n){if(document.querySelector(".embeddedServiceSidebar")||document.querySelector(".embeddedServiceHelpButton")){var t=n.target||n.srcElement;if(closestByTagName(t,"button")!=null)switch(closestByTagName(t,"button").className){case"dialogButton dialog-button-0 uiButton embeddedServiceSidebarButton":callDellmetricsTrack("890.220.003","ClickedOn '"+t.innerText+"' button");break;case"dialogButton dialog-button-1 uiButton embeddedServiceSidebarButton":callDellmetricsTrack("890.220.004","ClickedOn '"+t.innerText+"' button");break;case"dialogButton dialog-button-1 uiButton--inverse uiButton embeddedServiceSidebarButton":callDellmetricsTrack("890.220.004","ClickedOn '"+t.innerText+"' button");break;case"waitingCancelChat uiButton--inverse uiButton embeddedServiceSidebarButton":callDellmetricsTrack("890.220.005","ClickedOn Cancel Chat button while waiting in queue");break;case"closeButton headerItem":callDellmetricsTrack("890.220.006","ClickedOn Close (x) button");break;case"minimizeButton headerItem":callDellmetricsTrack("890.220.007","ClickedOn Minimize button");break;case"sidebarHeader minimizedContainer helpButton embeddedServiceSidebarMinimizedDefaultUI":callDellmetricsTrack("890.220.008","ClickedOn Maximize button");break;case"sidebarHeader minimizedContainer embeddedServiceSidebarMinimizedDefaultUI":callDellmetricsTrack("890.220.008","ClickedOn Maximize button");break;case"uiButton helpButtonEnabled":case"uiButton no-hover helpButtonEnabled":document.querySelector(".helpButtonEnabled #helpButtonSpan > .message").innerText=="Chat Now"?(snapInCurrentPage=null,callDellmetricsTrack("890.220.001","StartsChat for "+snapinChatGlobalServiceTag+"|"+snapinChatGlobalIssueType+"|"+snapinChatGlobalProductName)):callDellmetricsTrack("890.220.001","AgentOffline for "+snapinChatGlobalServiceTag+"|"+snapinChatGlobalIssueType+"|"+snapinChatGlobalProductName);break;default:closestByTagName(t,"a").className=="chatOption embeddedServiceLiveAgentStateChatHeaderOption"&&callDellmetricsTrack("890.220.009","ClickedOn "+closestByTagName(t,"a").text)}else closestByTagName(t,"a").className=="chatOption embeddedServiceLiveAgentStateChatHeaderOption"&&callDellmetricsTrack("890.220.009","ClickedOn "+closestByTagName(t,"a").text)}})}function callDellmetricsTrack(n,t){showsAgentOflineMsg(n,t)&&(document.querySelector(".dialog-button-0.embeddedServiceSidebarButton").style.display="none");typeof dellmetricsTrack=="function"&&dellmetricsTrack&&(trackevent?t?dellmetricsTrack(n,t):dellmetricsTrack(n):trackevent=!0)}function showsAgentOflineMsg(n,t){return n=="890.220.016"&&(t.includes("申し訳ありません。チャットすることができません。 しばらくしてからもう一度お試しください。")||t.includes("죄송합니다. 현재 귀하와 채팅할 수 없습니다. 나중에 다시 시도해주십시오.")||t.includes("Lo sentimos, no se puede abrir una sesión de chat. Vuelva más tarde o inténtelo de nuevo.")||t.includes("抱歉，我们无法和您聊天。 请稍后回来或重试。")||t.includes("Lamentamos não poder conversar com você. Volte mais tarde ou tente novamente.")||t.includes("Es tut uns Leid, aber momentan können wir nicht mit Ihnen chatten. Versuchen Sie es später noch einmal.")||t.includes("Sorry that we are not able to chat with you. Come back later or try again."))?!0:!1}function pageObserverForProp20(n){try{snapInPrechatForm=document.querySelector(".modalContainer  .dockableContainer .sidebarBody .activeFeature .featureBody .embeddedServiceSidebarState .prechatUI");snapInWaiting=document.querySelector(".dockableContainer .embeddedServiceLiveAgentStateWaiting .waitingStateContainer");snapInChatStarted=document.querySelector(".dockableContainer .activeFeature .embeddedServiceLiveAgentStateChat .chasitorControls .chasitorText");snapInConfirmationDialoug=document.querySelector(".dockableContainer .activeFeature .stateBody .dialogState .dialogTextContainer");snapInhelpBtnDisabled=document.querySelector(".embeddedServiceHelpButton .helpButton .helpButtonDisabled");snapInhelpBtnEnabled=document.querySelector(".embeddedServiceHelpButton .helpButton .helpButtonEnabled");snapInPrechatForm?snapInCurrentPage="snapInPrechatForm":snapInWaiting?snapInCurrentPage="snapInWaiting":snapInChatStarted?snapInCurrentPage="snapInChatStarted":snapInConfirmationDialoug?snapInCurrentPage="snapInConfirmationDialoug":snapInhelpBtnDisabled?(removeLoaderIn10(),snapInCurrentPage="snapInhelpBtnDisabled"):snapInhelpBtnEnabled?snapInhelpBtnEnabled="snapInhelpBtnEnabled":snapInCurrentPage=null;var t=window.MutationObserver||window.WebKitMutationObserver,i=function(n){n.forEach(function(n){n.addedNodes.length>0&&(snapInPrechatForm=document.querySelector(".modalContainer  .dockableContainer .sidebarBody .activeFeature .featureBody .embeddedServiceSidebarState .prechatUI"),snapInWaiting=document.querySelector(".dockableContainer .embeddedServiceLiveAgentStateWaiting .waitingStateContainer"),snapInChatStarted=document.querySelector(".dockableContainer .activeFeature .embeddedServiceLiveAgentStateChat .chasitorControls .chasitorText"),snapInConfirmationDialoug=document.querySelector(".dockableContainer .activeFeature .stateBody .dialogState .dialogTextContainer"),snapInhelpBtnDisabled=document.querySelector(".embeddedServiceHelpButton .helpButton .helpButtonDisabled"),snapInhelpBtnEnabled=document.querySelector(".embeddedServiceHelpButton .helpButton .helpButtonEnabled"),snapInEmbeddedServiceHelpBtn=document.querySelector(".embeddedServiceHelpButton"),snapInPrechatForm&&snapInCurrentPage!="snapInPrechatForm"?snapInCurrentPage="snapInPrechatForm":snapInWaiting&&snapInCurrentPage!="snapInWaiting"?(snapInCurrentPage="snapInWaiting",callDellmetricsTrack("890.220.011"),snapinQueueLoaded(),hideResumeSnapinLoader(),snapinChatInitiatedState(!1)):snapInChatStarted&&snapInCurrentPage!="snapInChatStarted"?(snapInCurrentPage="snapInChatStarted",snapinQueueLoaded(),callDellmetricsTrack("890.220.013"),hideResumeSnapinLoader()):snapInConfirmationDialoug&&snapInCurrentPage!="snapInConfirmationDialoug"?(snapInCurrentPage="snapInConfirmationDialoug",snapinQueueLoaded(),callDellmetricsTrack("890.220.016",document.querySelector(".dockableContainer .activeFeature .stateBody .dialogState .dialogTextContainer").innerText),hideResumeSnapinLoader()):snapInEmbeddedServiceHelpBtn&&window.getComputedStyle(snapInEmbeddedServiceHelpBtn).display==="block"&&(snapInhelpBtnDisabled&&window.getComputedStyle(snapInhelpBtnDisabled).display==="flex"&&snapInCurrentPage!="snapInhelpBtnDisabled"?(snapInCurrentPage="snapInhelpBtnDisabled",snapInhelpBtnDisabled.style.display="none",removeLoaderIn10()):snapInhelpBtnEnabled&&window.getComputedStyle(snapInhelpBtnEnabled).display==="flex"&&snapInCurrentPage!="snapInhelpBtnEnabled"?(snapInCurrentPage==="snapInhelpBtnDisabled"&&(document.getElementById("cusPreChatSnapinDom").style.display="block"),snapInCurrentPage="snapInhelpBtnEnabled",snapInhelpBtnEnabled.style.display="none"):console.log("Snap-In: Not Loaded")))})},r=new t(i),u=document.querySelector(n);r.observe(u,{childList:!0,subtree:!0})}catch(f){console.log("Error in Observer - "+f)}}function waitChatCounter(n,t,i){try{typeof dellmetricsTrack=="function"?dellmetricsTrack?i!=document.querySelector(n).innerText&&(dellmetricsTrack("890.220.012","Queue number: "+document.querySelector(n).innerText),clearInterval(t),document.querySelector(n).innerText>0&&document.querySelector(n).innerText!="You're up next!"&&eleExistWithVariable(".dockableContainer .embeddedServiceLiveAgentStateWaiting .waitingStateContainer .waitingStateContent .queuePositionContent .header",waitChatCounter,document.querySelector(n).innerText)):clearInterval(t):clearInterval(t)}catch(r){console.log("Error in:"+r)}}function eleExistWithVariable(n,t,i){var r=setInterval(function(){if(document.querySelector(n))try{t(n,r,i)}catch(u){console.log("error in "+t+" function: "+u)}},1e3)}function snapinPrechatLoaded(n,t){try{document.getElementById("loadingSnapinMsg")&&removeDomElement(document.getElementById("loadingSnapinMsg"));clearInterval(t)}catch(i){console.log("Error in:"+i)}}function removeDomElement(n){n.parentNode.removeChild(n)}function initLiveAgent(n){try{$.getScript(n.deploymentUrl,function(){liveagent.enableLogging();liveagent.init(n.liveAgentInitUrl,n.deploymentId,n.organizationId);window._laq||(window._laq=[]);window._laq.push(function(){liveagent.showWhenOnline(n.buttonId,document.getElementById("liveagent_button_online_"+n.buttonId));liveagent.showWhenOffline(n.buttonId,document.getElementById("liveagent_button_offline_"+n.buttonId));"serviceTag"in n&&liveagent.addCustomDetail("serviceTag",n.serviceTag)})})}catch(t){console.log("error:"+t)}}function initLiveAgentWithoutPrechatForm(n,t,i){try{delete window.liveagent;delete window.liveAgentDeployment;$.getScript(n.deploymentUrl,function(){callDellmetricsTrack("890.220.078");liveagent.enableLogging();liveagent.init(n.liveAgentInitUrl,n.deploymentId,n.organizationId);window._laq||(window._laq=[]);window._laq.push(function(){liveagent.showWhenOnline(n.buttonId,document.getElementById("liveagent_button_online_"+n.buttonId));liveagent.showWhenOffline(n.buttonId,document.getElementById("liveagent_button_offline_"+n.buttonId));"serviceTag"in n&&liveagent.addCustomDetail("serviceTag",n.serviceTag).saveToTranscript("Service_Tag__c");liveagent.addCustomDetail("First Name",n.firstName).saveToTranscript("FirstName__c");liveagent.addCustomDetail("Last Name",n.lastName).saveToTranscript("LastName__c");liveagent.addCustomDetail("Phone Number",n.phoneNumber).saveToTranscript("ContactNumber__c");liveagent.addCustomDetail("Email ID",n.emailId).saveToTranscript("Email__c");liveagent.addCustomDetail("Issue Type",n.issueType).saveToTranscript("Issue__c");liveagent.addCustomDetail("Issue Description",n.issueDescription).saveToTranscript("Description__c");liveagent.findOrCreate("Asset").map("Asset__c",n.serviceTag,!0,!1,!1).showOnCreate();liveagent.setName(n.firstName+" "+n.lastName)});checkifLiveAgentButtonIsOnline(liveagent,n,t,i)})}catch(r){console.log("error:"+r)}}function checkifLiveAgentButtonIsOnline(n,t,i,r){n.addButtonEventHandler(t.buttonId,function(t){if(t==n.BUTTON_EVENT.BUTTON_AVAILABLE){i();return}if(t==n.BUTTON_EVENT.BUTTON_UNAVAILABLE){r();return}})}function initResumeLiveAgent(n){window._laq||(window._laq=[]);window._laq.push(function(){liveagent.showWhenOnline(n.buttonId,document.getElementById("liveagent_button_online_"+n.buttonId));liveagent.showWhenOffline(n.buttonId,document.getElementById("liveagent_button_offline_"+n.buttonId))});liveagent.addCustomDetail("deltaSr",n.srNumber).saveToTranscript("Delta_Sr__c");liveagent.findOrCreate("Case").map("Delta_SR__c","deltaSr",!0,!1,!0).showOnCreate();liveagent.init(n.liveAgentInitUrl,n.deploymentId,n.organizationId);liveagent.setName(n.firstName+" "+n.lastName)}function startLiveAgentChat(n){callDellmetricsTrack("890.220.077");liveagent.startChat(n)}function eleExist(n,t){var i=setInterval(function(){if(document.querySelector(n))try{t(n,i)}catch(r){console.log("error in "+t+" function: "+r)}},1e3)}function triggerChatBot(n){var i,t;AddElementToPage();console.log(n);n==undefined&&sessionStorage.getItem("chatBotObjectSession")!=null?n=JSON.parse(sessionStorage.getItem("chatBotObjectSession")):sessionStorage.setItem("chatBotObjectSession",JSON.stringify(n));i=function(t){if(!document.getElementById("chatBotStyle")){let n=".embeddedServiceLiveAgentStateChatHeader .message,.embeddedServiceLiveAgentStateChatHeaderOption .optionName,.embeddedServiceSidebarFormField .uiInput .uiLabel-left{font-size:.75em!important}.embeddedServiceLiveAgentStateChatPlaintextMessageDefaultUI.plaintextContent,.embeddedServiceSidebarDialogState #dialogTextBody,.embeddedServiceSidebarFormField .slds-style-inputtext,.embeddedServiceSidebarFormField .slds-style-select,.embeddedServiceSidebarHeader .shortHeader,.embeddedServiceSidebarMinimizedDefaultUI .minimizedText{font-size:.875em!important}.embeddedServiceSidebar .headerItem,.embeddedServiceSidebarButton{font-size:1em!important}.embeddedServiceLiveAgentStateChatInputFooter .footerMenuWrapper .footer-menu .slds-button__icon{width:1.5em!important;height:1.5em!important}.embeddedServiceLiveAgentStateChatInputFooter .footerMenuWrapper .footer-menu .slds-button_icon-container-more{line-height:1.875em!important}.embeddedServiceLiveAgentStateChatInputFooter .footerMenuWrapper .footer-menu .slds-dropdown-trigger{padding:.5em .5em!important}";head=document.head||document.getElementsByTagName("head")[0];style=document.createElement("style");style.type="text/css";style.id="chatBotStyle";style.styleSheet?style.styleSheet.cssText=n:style.appendChild(document.createTextNode(n));head.appendChild(style)}embedded_svc.settings.displayHelpButton=!1;embedded_svc.settings.language="";embedded_svc.settings.avatarImgURL="";embedded_svc.settings.prechatBackgroundImgURL="";embedded_svc.settings.waitingStateBackgroundImgURL="";embedded_svc.settings.smallCompanyLogoImgURL="";embedded_svc.settings.extraPrechatFormDetails=[{label:"Transcript From",value:"ChatBot",transcriptFields:["Transcript_From__c"],displayToAgent:!0},{label:"Service Tag",transcriptFields:["Service_Tag__c"],displayToAgent:!0},{label:"Phone",transcriptFields:["ContactNumber__c"],displayToAgent:!0},{label:"First Name",transcriptFields:["FirstName__c"],displayToAgent:!0},{label:"Last Name",transcriptFields:["LastName__c"],displayToAgent:!0},{label:"Email Address",transcriptFields:["Email__c"],displayToAgent:!0},{label:"product_Model",value:n.product_Model,transcriptFields:["product_Model__c"],displayToAgent:!0},{label:"Kb_Article",value:n.Kb_Article,transcriptFields:["KB__c"],displayToAgent:!0},{label:"issue_Description",value:n.issue_Description,transcriptFields:["issue_Description__c"],displayToAgent:!0},{label:"warranty_Details",value:n.warranty_Details,transcriptFields:["warranty_Details__c"],displayToAgent:!0},{label:"windows_Version",value:n.windows_Version,transcriptFields:["windows_Version__c"],displayToAgent:!0},{label:"BIOS_Version",value:n.BIOS_Version,transcriptFields:["BIOS_Version__c"],displayToAgent:!0},{label:"recent_Software_Updated_Date",value:n.recent_Software_Updated_Date,transcriptFields:["recent_Software_Updated_Date__c"],displayToAgent:!0},{label:"is_External_Peripherals_Connected",value:n.is_External_Peripherals_Connected,transcriptFields:["is_External_Peripherals_Connected__c"],displayToAgent:!0},{label:"is_SA_Diagnostic_Passed",value:n.is_SA_Diagnostic_Passed,transcriptFields:["is_SA_Diagnostic_Passed__c"],displayToAgent:!0},{label:"is_Error_Related_HWorSW",value:n.is_Error_Related_HWorSW,transcriptFields:["is_Error_Related_HWorSW__c"],displayToAgent:!0},{label:"is_BIOSandDrivers_Updated",value:n.is_BIOSandDrivers_Updated,transcriptFields:["is_BIOSandDrivers_Updated__c"],displayToAgent:!0},{label:"is_AnyAntivirus_Installed",value:n.is_AnyAntivirus_Installed,transcriptFields:["is_AnyAntivirus_Installed__c"],displayToAgent:!0},{label:"is_Related_Heat_Issue",value:n.is_Related_Heat_Issue,transcriptFields:["is_Related_Heat_Issue__c"],displayToAgent:!0},{label:"is_Warranty_Covered",value:n.is_Warranty_Covered,transcriptFields:["is_Warranty_Covered__c"],displayToAgent:!0},{label:"is_HardDrive_Test_Passed",value:n.is_HardDrive_Test_Passed,transcriptFields:["is_HardDrive_Test_Passed__c"],displayToAgent:!0},{label:"is_Memory_Test_Passed",value:n.is_Memory_Test_Passed,transcriptFields:["is_Memory_Test_Passed__c"],displayToAgent:!0},{label:"is_MotherBoard_Test_Passed",value:n.is_MotherBoard_Test_Passed,transcriptFields:["is_MotherBoard_Test_Passed__c"],displayToAgent:!0},{label:"is_HDD_IDE",value:n.is_HDD_IDE,transcriptFields:["is_HDD_IDE__c"],displayToAgent:!0},{label:"last_time_scan_run",value:n.last_time_scan_run,transcriptFields:["last_time_scan_run__c"],displayToAgent:!0},{label:"isDsdnstalled",value:n.isDsdnstalled,transcriptFields:["isDsdnstalled__c"],displayToAgent:!0},{label:"isHwAlert",value:n.isHwAlert,transcriptFields:["isHwAlert__c"],displayToAgent:!0},{label:"isSwAlert",value:n.isSwAlert,transcriptFields:["isSwAlert__c"],displayToAgent:!0},{label:"Application_Context",value:n.applicationContext,transcriptFields:["Application_Context__c"],displayToAgent:!0},];var i=null,r=null,u=null,f=null,e=null;"First_Name"in n&&(i=n.First_Name);"Last_Name"in n&&(r=n.Last_Name);"Email"in n&&(u=n.Email);"Phone"in n&&(f=n.Phone);"Service_Tag"in n&&(e=n.Service_Tag);embedded_svc.settings.prepopulatedPrechatFields={FirstName:i,LastName:r,Email:u,Phone:f,Service_Tag__c:e};embedded_svc.settings.extraPrechatInfo=[{entityFieldMaps:[{doCreate:!0,doFind:!0,fieldName:"LastName",isExactMatch:!0,label:"Last Name"},{doCreate:!0,doFind:!0,fieldName:"FirstName",isExactMatch:!0,label:"First Name"},{doCreate:!0,doFind:!0,fieldName:"Email",isExactMatch:!0,label:"Email Address"}],entityName:"Contact",saveToTranscript:"ContactId"},{entityFieldMaps:[{doCreate:!1,doFind:!0,fieldName:"Name",isExactMatch:!0,label:"Service Tag"}],entityName:"Asset",saveToTranscript:"Asset__c"},{entityFieldMaps:[{doCreate:!1,doFind:!0,fieldName:"AssetId",isExactMatch:!0,label:"Asset"}],entityName:"Case"}];embedded_svc.settings.chatbotAvatarImgURL="https://i.dell.com/is/image/DellContent/content/dam/global-site-design/product_images/esupport/icons/digital_resolution_ux_avatar_sm_v1.png";embedded_svc.settings.defaultMinimizedText="Get Started";embedded_svc.settings.enabledFeatures=["LiveAgent"];embedded_svc.settings.entryFeature="LiveAgent";embedded_svc.init(n.chatBotInitURL,n.chatBotLAURL,t,n.organizationId,n.componentName,{baseLiveAgentContentURL:n.baseLiveAgentContentURL,deploymentId:n.deploymentId,buttonId:n.buttonId,baseLiveAgentURL:n.baseLiveAgentURL,eswLiveAgentDevName:n.LiveAgentDevName,isOfflineSupportEnabled:!1})};window.embedded_svc?(i(n.serviceForceURL),ResgisterChatBotHandler(),onBotStart()):(t=document.createElement("script"),t.setAttribute("src",n.snapInJs),t.onload=function(){i(null);ResgisterChatBotHandler();onBotStart()},document.body.appendChild(t));HookClosePreChatForm()}function ResgisterChatBotHandler(){embedded_svc.addEventHandler("onAgentMessage",function(){console.log("onAgentMessage event triggerred");bindHandler();sessionStorage.setItem("isChatBotActive","true")});embedded_svc.addEventHandler("onChatEndedByChasitor",function(){console.log("onChatEndedByChasitor event triggerred");CloseAndClearChatBot();SetToDefaultValues()});embedded_svc.addEventHandler("onChatEndedByAgent",function(){console.log("onChatEndedByAgent event triggerred");CloseAndClearChatBot();SetToDefaultValues()});embedded_svc.addEventHandler("onConnectionError",function(){console.log("onConnectionError event triggerred");CloseAndClearChatBot();SetToDefaultValues()});embedded_svc.addEventHandler("onIdleTimeoutOccurred",function(){console.log("onIdleTimeoutOccurred event triggerred");CloseAndClearChatBot();SetToDefaultValues()});embedded_svc.addEventHandler("onChatRequestSuccess",function(n){StoreChatBotSessionKey(n.liveAgentSessionKey);callDellmetricsTrackForBot("880.130.863",n.liveAgentSessionKey)});embedded_svc.addEventHandler("onChatEstablished",function(n){callDellmetricsTrackForBot("880.130.864",n.liveAgentSessionKey);setTimeout(function(){var i=document.querySelector(".hamburgerMenuIcon "),t;i.addEventListener("click",function(){callDellmetricsTrackForBot("880.130.861",n.liveAgentSessionKey)});t=document.querySelectorAll(".embeddedServiceLiveAgentStateChatHeaderOption .embeddedServiceIcon");t[0].addEventListener("click",function(){callDellmetricsTrackForBot("880.130.859",n.liveAgentSessionKey)});t[1].addEventListener("click",function(){callDellmetricsTrackForBot("880.130.860",n.liveAgentSessionKey)})},300)});embedded_svc.addEventHandler("onChasitorMessage",function(n){setTimeout(function(){var t=document.querySelectorAll(".chatContent"),i=t[t.length-1];i.innerText==="Transfer to Agent"&&callDellmetricsTrackForBot("880.130.862",n.liveAgentSessionKey)},300)})}function AdditionalHelpTest_ServiceTag(n,t){if(clearInterval(t),!document.getElementById("additionalHelpTest"))try{var r=document.querySelector(n),i=document.createElement("span");i.innerHTML='<div  style= "color:Red;font-size: .75em;">  (Service Tags are 7-digit codes usually located on   the back or bottom of Dell products.)<\/div>';i.iD="additionalHelpTest";r.parentNode.insertBefore(i,r);callDellmetricsTrackForBot("880.130.852");window.addEventListener("click",function(n){if(document.querySelector(".embeddedServiceSidebar")||document.querySelector(".embeddedServiceHelpButton")){var t=n.target||n.srcElement;if(closestByTagName(t,"button")!=null)switch(closestByTagName(t,"button").className){case"startButton uiButton--default uiButton embeddedServiceSidebarButton":callDellmetricsTrackForBot("880.130.853");break;case"waitingCancelChat uiButton--inverse uiButton embeddedServiceSidebarButton":callDellmetricsTrackForBot("880.130.856");break;case"closeButton headerItem":callDellmetricsTrackForBot("880.130.855");break;case"minimizeButton headerItem":callDellmetricsTrackForBot("880.130.854");break;case"dialogButton dialog-button-0 uiButton embeddedServiceSidebarButton":n.target.innerText==="Leave"&&n.target.parentNode.parentNode.parentNode.firstElementChild.textContent==="Leave?"&&callDellmetricsTrackForBot("880.130.857");break;case"dialogButton dialog-button-1 uiButton--inverse uiButton embeddedServiceSidebarButton":n.target.innerText==="Continue to Wait"&&n.target.parentNode.parentNode.parentNode.firstElementChild.textContent==="Leave?"&&callDellmetricsTrackForBot("880.130.858")}}})}catch(u){console.log(u)}}function callDellmetricsTrackForBot(n,t){typeof dellmetricsTrack=="function"&&dellmetricsTrack&&(t?dellmetricsTrack(n,"chatsessionid:"+t):dellmetricsTrack(n))}function chatBotClick(n,t){try{document.querySelector(n).innerText==="Get Started"&&document.querySelector(n).click();clearInterval(t)}catch(i){console.log("Error in:"+i)}}function bindHandler(){if(!isBinded){$("ul[class*='messageWrapper']").on("DOMSubtreeModified",this.messageReceived);isBinded=!0}}function SetToDefaultValues(){isBinded=!1}function executeCommand(n){n.redirectURL!=null&&(n.execute(),n="",console.log("Executing Command"),isMessageFinished=!1)}function messageReceived(n){var r;var t=n.currentTarget.lastElementChild.childNodes[1].innerText,u=n.currentTarget.childElementCount,i=sessionStorage.getItem("GR_MessageCount");i=i==null?0:i;u>parseInt(i)&&(sessionStorage.setItem("GR_MessageCount",u),lastmessage!=t&&t!=""?(lastmessage=t,r=new getCommand(t),r.redirectURL!=null&&waitForMessageToOver(executeCommand(r))):(console.log("Message Finished"),isMessageFinished=!0))}function ProcessChildMessage(n){var t,i;try{HideLoader();t=document.createEvent("Event");t.initEvent("keydown",!0,!1);t.which=t.keyCode=13;i=document.getElementsByClassName("chasitorText")[0];i.value="";i.dispatchEvent(t);i.value=n;i.focus();i.dispatchEvent(t)}catch(r){console.log("Error found while posting message to chatbot : "+r)}}function processChatBotCommand(){GetChatBotinfo().then(function(n){var t,i;sessionStorage.getItem("ChatBot_SessionKey")!=null&&(n.chatKey=sessionStorage.getItem("ChatBot_SessionKey"));sessionStorage.getItem("chatBotObjectSession")!=null&&(t=JSON.parse(sessionStorage.getItem("chatBotObjectSession")),sessionStorage.getItem("GR_ServiceTag")!=null?(i=sessionStorage.getItem("GR_ServiceTag"),t.isDsdInstalled=i.toLowerCase()!=t.Service_Tag.toLowerCase()?!1:!0):t.isDsdInstalled=!1,n.caseNumber="0",n.serviceTag=t.Service_Tag,n.kb=t.IssueType,n.applicationContext=t.applicationContext,n.oSissueManualBot=t.OSCode,n.isDsdInstalled=t.isDsdInstalled,n.applicationContext=t.applicationContext,n.agentQueueName="NA.TS.CLI.CHAT.EN.CORE.CON",t.isDsdInstalled||(n.isSwAlert=!1),SrRedirectURL=n.eSupportSrRedirectURL,DispatchRedirectURL=n.eSupportDispatchRedirectURL,t.ChatBotInfo=n,UpdateDriverScanURL(n.isSwAlert,t.Service_Tag),UpdateManualsUrl(t.IssueType,t.OSCode),sessionStorage.setItem("chatBotObjectSession",JSON.stringify(t)),SendResponseToChatbot(t.ChatBotInfo).then(function(){ProcessChildMessage("...")}).catch(function(n){console.log("rejected promise"+n);ProcessChildMessage("....")}))})}function UpdateDriverScanURL(n,t){try{n!=undefined&&t!=undefined&&n&&(driverPageURL=driverPageURL.format(t))}catch(i){console.log(i)}}function popupAdWindow(n,t){document.getElementsByClassName("helpButton").length!=0&&(n="Chat",t="Troubleshoot your PC’s performance issues now using our automated assistant",document.getElementsByClassName("helpButton")[0].insertAdjacentHTML("beforeend",'<div class="talk-bubble tri-right border btm-right-in tag-remove"><li class="close" onclick="closeBubble()">&times;<\/li><div class="talktext"><h3 class="text-header-left">'+n+"<\/h3><p>"+t+"<\/p><\/div><\/div>"))}function closeBubble(){var n=document.getElementsByClassName("close");n[0].parentElement.style.display="none"}function processODESucessresponse(n,t,i,r){if(ShowLoader(),sessionStorage.getItem("chatBotObjectSession")!=null){var u=JSON.parse(sessionStorage.getItem("chatBotObjectSession")).ChatBotInfo;u.isHwAlert=n;u.isHardDriveTestPassed=t;u.isSwAlert=i;u.quickSATestMsg="Results Available";u.quickSATest="C";u.componentFailure=r;UpdateDriverScanURL(i,u.serviceTag);SendResponseToChatbot(u).then(function(){waitForElement(".chasitorText",function(){setTimeout(function(){ProcessChildMessage("...")},2e3)})}).catch(function(){waitForElement(".chasitorText",function(){setTimeout(function(){ProcessChildMessage("....")},2e3)})})}}function processODEProgress(n,t){if(ShowLoader(),sessionStorage.getItem("chatBotObjectSession")!=null){var i=JSON.parse(sessionStorage.getItem("chatBotObjectSession")).ChatBotInfo;i.quickSATestMsg=n;i.quickSATest=t;SendResponseToChatbot(i).then(function(){ProcessChildMessage("...")}).catch(function(n){console.log("rejected promise"+n);ProcessChildMessage("....")})}}function SendResponseToChatbot(n){var i=JSON.stringify(n),t;return console.log(i),t="",new Promise(function(n,r){try{sessionStorage.getItem("chatBotObjectSession")!=null&&(t=JSON.parse(sessionStorage.getItem("chatBotObjectSession")).incidentBaseUrl+"sfdc/ChatBotUpdate");$.ajax({url:t,data:i,dataType:"json",type:"POST",contentType:"application/json; charset=utf-8",success:function(t){n(t)},error:function(n){console.log(n);r(n)}})}catch(u){console.log("Response error"+u);r(u)}})}function UpdateManualsUrl(n,t){manualTroubleshootURL=manualTroubleshootURL.format(n,t)}function GetCurrentSysInfo(n,t){return new Promise(function(i,r){try{t.findService(function(){n.isDsdInstalled="true";t.getClientSystemInfo(!0,!1,!1,function(t){t!=null&&t.data!=null&&(n.Service_Tag=t.data.serviceTagData.serviceTag,n.OSCode=t.data.OSCode);i(n)})},function(t){console.log("find service error :"+t);i(n)})}catch(u){console.log("Main try catch"+u);r(u)}})}function requestDeviceDriversScan(n){return new Promise(function(t,i){try{n.findService(function(){n.getDeviceDrivers(function(n){window.sessionStorage.setItem("Ode_DriverScan",JSON.stringify(n));t(n)},function(n){console.log("Error Occured in Drivers Scan !");i(n)},!1)},function(n){console.log("find service error :"+n);i(n)})}catch(r){console.log(r);i(r)}})}function startChatBot(n,t,i,r,u,f){var e={};e.isDsdInstalled="false";u!=""&&u!=undefined&&(e.Service_Tag=u);GetChatbotconfiguration(n,t,i).then(function(t){t.Service_Tag=e.Service_Tag;t.isDsdInstalled=e.isDsdInstalled;t.OSCode="";t!=null&&t.IsChatBotEnabled&&(t.applicationContext=f,t.incidentBaseUrl=i,r(t),OpenPreChatORShowBubble(n).then(function(){waitForElement(".prechatUI",function(){HideLoadingImage()})}))})}function HideLoadingImage(){try{document.getElementById("VirtualAgentProcessing")!=null&&(document.getElementById("VirtualAgentProcessing").style.visibility="hidden")}catch(n){console.log("exception in method HideLoadingImage: "+n)}}function ShowLoadingImage(){try{document.getElementById("VirtualAgentProcessing")!=null&&(document.getElementById("VirtualAgentProcessing").style.visibility="visible");$("#dcuVirtualAgent").addClass("disabled")}catch(n){console.log("exception in method ShowLoadingImage: "+n)}}function OpenPreChatORShowBubble(n){return new Promise(function(t,i){try{n!=undefined&&n!=null&&n!=""&&(n.toLowerCase()==="contactus"?waitForElement(".helpButtonEnabled #helpButtonSpan > .message",function(){document.querySelector(".helpButtonEnabled #helpButtonSpan > .message").innerText==="Get Started"&&(document.querySelector(".helpButtonEnabled #helpButtonSpan > .message").click(),waitForElement(".startButton",function(){HookEventToCaptureEmailFromPreChatForm()}),t(!0))}):n.toLowerCase()==="articles")}catch(r){console.log(r);i(r)}})}function UpdateLoginInfo(n){n.FirstName=this.firstName!=""?this.firstName:"";n.LastName=this.lastName!=""?this.lastName:"";n.Email=this.emailId!=""?this.emailId:""}function GetChatbotconfiguration(n,t,i){return new Promise(function(r,u){var e=i+"Chat/isChatBotEnable?appName="+n+"&airticleId="+t;try{$.ajax({url:e,dataType:"json",type:"GET",contentType:"application/json; charset=utf-8",success:function(n){console.log(n);r(n.chatDetails)},error:function(n){console.log(n);u(n)}})}catch(f){console.log("Response error"+f);u(f)}})}function GetDriversDataFromSession(){var t=[],n;try{sessionStorage.getItem("Ode_DriverScan")!=null&&(n=JSON.parse(sessionStorage.getItem("Ode_DriverScan")),n!=null&&n.data!=null&&n.data.Updates!=null&&n.data.Updates.length>0&&n.data.Updates.forEach(function(n){t.push(n.DriverId)}))}catch(i){console.log("Method is GetDriversDataFromSession:"+i)}return t}function GetChatBotinfo(){return new Promise(function(n,t){var i,e,o;try{var r="",u=[],h=sessionStorage.getItem("chatBotObjectSession"),f=sessionStorage.getItem("ChatBot_EmailAddress");h!=null&&f!=null&&(i=JSON.parse(sessionStorage.getItem("chatBotObjectSession")),i.isDsdInstalled&&(u=GetDriversDataFromSession()),u.length!=0?(e={serviceTag:i.Service_Tag,sfdcId:i.SFDCId,issueType:i.IssueType,queueName:i.QueueName,emailId:f,driverIds:u.toLocaleString()},r=i.incidentBaseUrl+"Chat/ChatBotQueueInfo?"+$.param(e)):(o={serviceTag:i.Service_Tag,sfdcId:i.SFDCId,issueType:i.IssueType,queueName:i.QueueName,emailId:f},r=i.incidentBaseUrl+"Chat/ChatBotQueueInfo?"+$.param(o)));$.ajax({url:r,dataType:"json",type:"GET",contentType:"application/json; charset=utf-8",success:function(t){console.log(t);n(t.chatDetails)},error:function(n){console.log(n);t(n)}})}catch(s){console.log("Response error"+s);t(s)}})}function CloseAndClearChatBot(){try{$("div#divLoading").remove();sessionStorage.removeItem("isChatBotActive");sessionStorage.removeItem("chatBotObjectSession");sessionStorage.removeItem("GR_ServiceTag");sessionStorage.removeItem("Ode_DriverScan");sessionStorage.removeItem("ChatBot_SessionKey");sessionStorage.removeItem("ChatBot_EmailAddress");sessionStorage.removeItem("GR_MessageCount");$("#dcuVirtualAgent").hasClass("disabled")&&$("#dcuVirtualAgent").removeClass("disabled");IsAgentLive=!1}catch(n){console.log(n)}}function ShowLoader(){try{var n=$("div.dockableContainer").width(),t=$("div.dockableContainer").height(),i=$("div.dockableContainer").position();$("div#divLoading").css({height:t,width:n,left:i.left,position:"fixed",background:"black",zIndex:9999,display:"block",opacity:.5})}catch(r){console.log(r)}}function HideLoader(){try{$("div#divLoading").css({display:"none"})}catch(n){console.log(n)}}function AddElementToPage(){try{var n=document.createElement("div");n.id="divLoading";n.style.display="none";n.style.borderRadius="8px 8px 0px 0px";n.style.position="fixed";n.style.bottom=0;n.innerHTML='<i class="icon-ui-loading" style="left: 50%;top: 50%;position: relative;"><\/i>';document.body.appendChild(n)}catch(t){console.log(t)}}function HookClosePreChatForm(){document.getElementById("lnkIssueChange")!=null&&document.getElementById("lnkIssueChange").addEventListener("click",function(){CloseAndClearChatBot()})}function StoreChatBotSessionKey(n){sessionStorage.setItem("ChatBot_SessionKey",n)}function CapturePreChatFormData(){return new Promise(function(n,t){var i,r;try{document.getElementById("Email")!=null&&(i=document.getElementById("Email").value,sessionStorage.setItem("ChatBot_EmailAddress",i));console.log(i);n(i)}catch(u){r="Exception >> Method : CapturePreChatFormData, Message : "+u;console.log(r);t(r)}})}function HookEventToCaptureEmailFromPreChatForm(){try{document.getElementById("Email").length!==0&&document.getElementById("Email").addEventListener("blur",function(){CapturePreChatFormData()})}catch(n){var t="Exception >> Method : HookEventToCaptureEmailFromPreChatForm, Message : "+n;console.log(t)}}function DisableChatBotInput(){var n,t,i;try{document.getElementsByClassName("chasitorInputWrapper").length>0&&document.getElementsByClassName("chasitorText").length>0&&(n=document.getElementsByClassName("chasitorInputWrapper")[0],n.style.pointerEvents="none",n.style.background="#CCC",n.style.opacity="0.5",t=document.getElementsByClassName("chasitorText")[0],t.disabled=!0,t.placeholder=textBoxPlaceHolderWhenDiabled,t.style.padding="6px 8px")}catch(r){i="Exception >> Method : DisableChatBotInput, Message : "+r;console.log(i)}}function EnableChatBotInput(){var n,t,i;try{document.getElementsByClassName("chasitorInputWrapper").length>0&&document.getElementsByClassName("chasitorText").length>0&&(n=document.getElementsByClassName("chasitorInputWrapper")[0],n.style.pointerEvents="auto",n.style.background="",n.style.opacity="",t=document.getElementsByClassName("chasitorText")[0],t.disabled=!1,t.placeholder=textBoxPlaceHolderWhenEnabled,t.style.padding="12px 8px")}catch(r){i="Exception >> Method : EnableChatBotInput, Message : "+r;console.log(i)}}function onBotStart(){waitForElement(".messageWrapper",function(){bindHandler()});waitForElement(".chasitorText",function(){DisableChatBotInput()})}var snapinChatGlobalIssueType,snapinChatGlobalServiceTag,snapinChatGlobalProductName=null,snapInCurrentPage=null,trackevent=!0,coveoHeader="",isCoveoSearchEnabled=!1,closestByTagName,lastmessage,isMessageFinished,waitCount,waitForMessageToOver,getCommand,Command,waitForElement;(function(){if(window.addEventListener("dragover",function(n){n=n||event;n.preventDefault()},!1),window.addEventListener("drop",function(n){n=n||event;n.preventDefault()},!1),!document.getElementById("snapinStyle")){var t='.embeddedServiceSidebarHeader,.embeddedServiceSidebarMinimizedDefaultUI{background-color:#00447C!important;border:1px!important}.embeddedServiceSidebarFormField .uiInput .uiLabel-left{padding-top:0!important;margin-top:11px;color:#444!important;font-weight:300!important}.embeddedServiceSidebarForm.formContent{background:#f1f1f1!important}.embeddedServiceHelpButton .helpButton .uiButton{background-color:#005290!important;font-family:"Salesforce Sans",sans-serif}.embeddedServiceHelpButton .helpButton .uiButton:focus{outline:#005290 solid 1px}.embeddedServiceSidebarForm .uiButton,.embeddedServiceSidebarFormField .slds-style-inputtext{border-radius:0!important}.embeddedServiceSidebarFormField .slds-style-inputtext{border-radius:0!important;border:none!important}.embeddedServiceSidebarForm.buttonWrapper{background:linear-gradient(to bottom,rgba(247,247,247,0) 0,rgba(247,247,247,1) calc(100% - 77px),rgba(247,247,247,1) 100%)}.embeddedServiceSidebarButton.uiButton--inverse{background:#f7f7f7!important;border-radius:0!important;border:1px solid #ccc!important}.embeddedServiceSidebarButton.uiButton--inverse:not(:disabled):focus{box-shadow:0 0 3px 0 #ddd!important}.embeddedServiceSidebarDialogState .dialogButton{border-radius:0!important}.embeddedServiceSidebarDialogState .dialogButton:not(:disabled):focus{text-decoration:none!important}.embeddedServiceSidebarFormField .slds-style-inputtext,.embeddedServiceSidebarFormField .slds-style-select{color:#444!important}.embeddedServiceSidebarForm .fieldList{margin:12px 12px 0 0!important}.embeddedServiceLiveAgentStateChatHeaderOption .optionName{color:#fff!important;text-decoration:none!important}.embeddedServiceSidebarHeader .headerText{margin-bottom:0!important}.embeddedServiceSidebarMinimizedDefaultUI .minimizedImage{display:none!important}.embeddedServiceLiveAgentStateChatHeader.reconnecting.alert{background-color:#cb2b19!important;padding-top:46px!important}.embeddedServiceSidebarForm.buttonWrapper{background-color:#f1f1f1!important}.cusPreChat-modalContainer,.cusPreChat-shortHeader{font-weight:400;-webkit-font-smoothing:subpixel-antialiased}.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-uiButton:focus,.cusPreChat-headerItem:focus,.cusPreChat-headerItem:hover{outline:0}.cusPreChat-modalContainer{box-sizing:border-box;line-height:1.5;color:#212529;display:block;position:fixed;z-index:1001;font-family:"Salesforce Sans",sans-serif;top:0;font-size:16px;pointer-events:all;backface-visibility:hidden;text-align:left}.cusPreChat-modalContainer li,.cusPreChat-modalContainer ul{display:block;list-style:none}.cusPreChat-dockableContainer{width:320px;max-height:720px;border-radius:8px 8px 0 0;position:fixed;left:auto;bottom:0;right:20px;margin:0;height:90%;box-shadow:2px 2px 20px rgba(0,0,0,.2);z-index:15;text-align:center;overflow:hidden;max-width:40em;pointer-events:all}.cusPreChat-embeddedServiceSidebarHeader{position:absolute;top:0;width:100%;border-radius:8px 8px 0 0;background-color:#00447C;border:1px;text-align:center;pointer-events:all}.cusPreChat-shortHeader{color:#fff;border-radius:8px 8px 0 0;line-height:3;text-align:center;font-size:.875em;height:44px;clear:both;overflow:hidden;z-index:3;position:relative;transform:translate3d(0,0,0)}.cusPreChat-shortHeaderContent{position:relative;display:flex;height:100%}.cusPreChat-headerItem{color:#fff;font-size:1em;background:0 0;border:none}.cusPreChat-headerItem:focus:before,.cusPreChat-headerItem:hover:before{content:" ";position:absolute;background-color:#fff;opacity:.2;border-radius:4px;box-sizing:border-box;pointer-events:none;top:20%}.cusPreChat-closeButton,.cusPreChat-minimizeButton{transition:color .7s ease;padding:14px;line-height:0}.cusPreChat-minimizeButton:focus:before,.cusPreChat-minimizeButton:hover:before{left:6px;width:30px;height:60%}.cusPreChat-closeButton:focus:before,.cusPreChat-closeButton:hover:before{right:6px;width:30px;height:60%}.cusPreChat-assistiveText{position:absolute;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px)}.cusPreChat-embeddedServiceIcon{display:flex}.cusPreChat-embeddedServiceIcon svg{display:inline-block;box-sizing:border-box;width:1em;height:1em;fill:#fff}.cusPreChat-headerText{display:flex;justify-content:center;align-items:center;flex-grow:1;align-self:stretch;width:calc(100% - 96px);color:#fff;text-decoration:none;line-height:normal;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:400;font-size:1em}.cusPreChat-sidebarBody{position:absolute;width:100%;height:100%;top:44px;z-index:0;background-color:#f1f1f1;transform:translate3d(0,0,0);-webkit-overflow-scrolling:touch}.cusPreChat-sidebarLoadingIndicator{position:relative;height:100%;background-color:#fff}.cusPreChat-activeFeature{width:100%;height: 100%}.cusPreChat-embeddedServiceLiveAgentStatePrechatDefaultUI{overflow:hidden;height:100%;position:absolute}.cusPreChat-formContent{width:320px;height:calc(100% - 98px);overflow-y:auto;position:relative;background-color:#f1f1f1;margin-bottom:81px;border-radius:0 0 8px 8px}.cusPreChat-fieldList{margin:5px 12px 0 0;padding:0}.cusPreChat-embeddedServiceSidebarFormField{display:block;margin-block-end:0;margin-inline-start:0;margin-inline-end:0;padding-inline-start:40px;list-style:none;padding:0;box-sizing:border-box;margin-left:12px}.cusPreChat-embeddedServiceSidebarFormField.cusPreChat-inputSplitName{width:calc(50% - 12px);display:inline-block;vertical-align:top;margin-left:9px}.cusPreChat-split-field-container{margin-bottom:6px}.cusPreChat-uiInput{text-align:left}.cusPreChat-uiInput .cusPreChat-uiLabel-left{padding:0!important;color:#444!important;font-weight:300!important;position:relative;font-size:.75em;line-height:1.5;margin:11px .75em 2px 1px}.cusPreChat-uiInput .cusPreChat-required{position:absolute;color:#c23934;left:-6px;top:0}.cusPreChat-slds-style-inputtext{display:inline-block;line-height:30px;box-sizing:border-box;box-shadow:none;background-color:#fff;width:100%;height:44px !important;padding:0 12px !important;font-size:.875em;border:none !important;}.cusPreChat-slds-style-inputtext:focus{outline:0;box-shadow:0 0 2px 0 #007db8}.cusPreChat-buttonWrapper{text-align:center;padding:0px 24px 24px;margin:0;width:320px;position:fixed;box-sizing:border-box;bottom:44px; box-shadow: 0px -10px 5px rgba(241, 241, 241,0.7); background: #f1f1f1}.cusPreChat-embeddedServiceSidebarButton{background:#007db8;font-family:"Roboto Regular",sans-serif;border-radius:0!important;position:relative;border:none;text-shadow:none;box-shadow:none;transition:background .4s ease;color:#fff;font-size:1em;font-weight:400;width:100%;margin:0;height:44px;cursor:pointer}.cusPreChat-embeddedServiceSidebarButton:not(:disabled):focus,.cusPreChat-embeddedServiceSidebarButton:not(:disabled):hover{background:#004b6e}.cusPreChat-has-error{margin:0 0 0px;padding:0}.cusPreChat-has-error .cusPreChat-form-element__help{font-size:.75em;color:#c23934}.cusPreChat-embeddedServiceHelpButton{display:block;position:fixed;top:0;left:0;background:0 0;box-shadow:none;overflow:visible;z-index:1000;font-family:sans-serif}.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton{position:fixed;bottom:12px;right:12px;height:46px;-webkit-font-smoothing:subpixel-antialiased}.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-uiButton{box-sizing:border-box;margin:0;padding:0 12px;height:46px;box-shadow:0 0 12px 0 rgba(0,0,0,.5);border-radius:23px;line-height:1;background:#007db8;font-size:.875em;color:#fff;font-weight:400;text-shadow:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;font-family:"Roboto Regular",sans-serif;width:168px;cursor:pointer;position:relative;border:0}.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-helpButtonEnabled:focus::before,.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-helpButtonEnabled:hover::before{content:" ";position:absolute;top:0;left:0;width:100%;height:100%;border-radius:23px;background-color:#000;opacity:.2;pointer-events:none}.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-uiButton .cusPreChat-label{color:#fff}.cusPreChat-embeddedServiceHelpButton .cusPreChat-uiButton .cusPreChat-helpButtonLabel{position:relative;z-index:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-align-self:stretch;-ms-flex-item-align:stretch;align-self:stretch;max-width:100%;line-height:normal;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media only screen and (min-width:48em){.cusPreChat-embeddedServiceHelpButton{background-color:transparent}.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton{position:fixed;bottom:0}.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-uiButton,.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-uiButton:focus::before,.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-uiButton:hover::before{border-radius:8px 8px 0 0}}.cusPreChat-sidebarLoadingIndicator{align-self:stretch;max-height:100%;flex-grow:1;display:flex;flex-direction:column;justify-content:center;text-align:center;padding:0 24px}.cusPreChat-loadingBallContainer{display:inline-block}.cusPreChat-loadingBallContainer.cusPreChat-animated .cusPreChat-loadingBall{animation:cusPreChat-ballanimate 2.25s infinite ease-in-out;display:inline-block;width:1em;height:1em;border-radius:2em;font-size:8px;text-align:center;background:#0074bd;margin:3px}.cusPreChat-embeddedServiceLoadingBalls.cusPreChat-animated .cusPreChat-second{animation-name:cusPreChat-ballanimate-2}.cusPreChat-embeddedServiceLoadingBalls.cusPreChat-animated .cusPreChat-third{animation-name:cusPreChat-ballanimate-3}@keyframes cusPreChat-ballanimate{0%,32%{transform:scale(1)}16%{transform:scale(1.5)}}@keyframes cusPreChat-ballanimate-2{32%,64%{transform:scale(1)}48%{transform:scale(1.5)}}@keyframes cusPreChat-ballanimate-3{64%,96%{transform:scale(1)}80%{transform:scale(1.5)}}@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {.cusPreChat-buttonWrapper{bottom: 3px;}}',i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css";n.id="snapinStyle";n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t));i.appendChild(n)}if(typeof NodeList.prototype.forEach=="function")return!1;NodeList.prototype.forEach=Array.prototype.forEach})();closestByTagName=function(n,t){var i,r;try{if(i=n,i&&(r=i.tagName,r))while(r.toLowerCase()!=t)if(i=i.parentNode,i&&(r=i.tagName),!r)return n;return i}catch(u){console.log(u)}};eleExist(".embeddedServiceSidebarFeature .embeddedServiceLiveAgentStatePrechatDefaultUI .embeddedServiceSidebarForm .Service_Tag__c",AdditionalHelpTest_ServiceTag);var retVal=null,quickTestURL="/support/home/us/en/19/home/index/quicktestnovideo",SrRedirectURL="",DispatchRedirectURL="",sRPageURL="/support/incidents-online/us/en/19/srsearch",driverPageURL="/support/home/us/en/19/product-support/servicetag/{0}/diagnose/ShowResults/driverscan",manualTroubleshootURL="/support/guidedpath/us/en/19?issue={0}&os={1}",isBinded=!1,textBoxPlaceHolderWhenDiabled="Select from the options above when prompted.",textBoxPlaceHolderWhenEnabled="Please type here.",IsAgentLive=!1;lastmessage="";isMessageFinished=!1;waitCount=0;waitForMessageToOver=function(n){isMessageFinished||waitCount==3?n():(waitCount++,setTimeout(function(){waitForMessageToOver(n)},1e3))};String.prototype.contains=function(n,t){return(t?this:this.toUpperCase()).indexOf(t?n:n.toUpperCase())>=0};getCommand=function(n){var i,r,u;console.log("getCommand method message is: ",n);var t=new Command(n),f=n,e=n.startsWith("Hold on we are checking")&&n.contains("service Tag");e&&(n="GetServiceTagDetails");i=n.contains("please standby while I look up details about your system");i&&(n="GetServiceTagDetails_New");try{switch(n){case"GetServiceTagDetails":ShowLoader();r="0";u=f.split(" ")[12].trim();processChatBotCommand(u,r);break;case"GetServiceTagDetails_New":ShowLoader();processChatBotCommand();break;case"Opening QuickTest..\n":case"Opening QuickTest..":t.redirectURL=quickTestURL;t.isNewWindow=!0;break;case"Update my drivers":case"Update my drivers\n":t.redirectURL=driverPageURL;t.isNewWindow=!0;break;case"View Service Request Status":case"View Service Request Status\n":case"Check case status":case"See Work Order":case"Check case status\n":case"See Work Order\n":t.redirectURL=SrRedirectURL;t.isNewWindow=!0;break;case"Help me tune up my system":case"Help me tune up my system\n":t.redirectURL=manualTroubleshootURL;t.isNewWindow=!0;break;case"When you locate the Service Tag,enter it here":case"When you locate the Service Tag,enter it here\n":EnableChatBotInput();break;case"View Dispatch Status":case"View Dispatch Status\n":t.redirectURL=DispatchRedirectURL;t.isNewWindow=!0;break;case"Chat with Live Agent":case"Chat with Live Agent\n":EnableChatBotInput();IsAgentLive=!0;break;default:t.redirectURL=null;t.isNewWindow=!1}}catch(o){console.log("error in getCommand method:"+o)}return t};Command=function(){try{this.execute=function(){this.redirectURL!=null&&this.isNewWindow==!0&&(window.location.href=this.redirectURL)};this.redirectURL=null}catch(n){console.log("error occured in Command method %s",n)}};waitForElement=function(n,t){jQuery(n).length?t():setTimeout(function(){waitForElement(n,t)},1e3)};String.prototype.format||(String.prototype.format=function(){var n=arguments;return this.replace(/{(\d+)}/g,function(t,i){return typeof n[i]!="undefined"?n[i]:t})});window.onresize=function(){$("div#divLoading").length&&$("div#divLoading")[0].style.display!=="none"&&ShowLoader()};$(".closeButton").click(function(){CloseAndClearChatBot()});sessionStorage.getItem("isChatBotActive")!=null&&sessionStorage.getItem("isChatBotActive")=="true"&&triggerChatBot();