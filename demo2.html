﻿<!DOCTYPE html>
<html>
<head>


</head>
<body>
	   Hello World! Testing for Snapin! DEV2


	   <style type='text/css'>
		.embeddedServiceHelpButton .helpButton .uiButton {
			background-color: #007db8;
			font-family: "Roboto Regular", sans-serif;
		}
		.embeddedServiceHelpButton .helpButton .uiButton:focus {
			outline: 1px solid #007db8;
		}
	</style>
	
	<script type='text/javascript' src='https://service.force.com/embeddedservice/5.0/esw.min.js'></script>
	<script type='text/javascript'>
		var initESW = function(gslbBaseURL) {
			embedded_svc.settings.displayHelpButton = true; //Or false
			embedded_svc.settings.language = 'en'; //For example, enter 'en' or 'en-US'
			embedded_svc.settings.defaultMinimizedText = 'Chat Now';
			
			embedded_svc.settings.extraPrechatFormDetails = [{
				"label": "First Name",
				"transcriptFields": ["FirstName__c"]
			}, {
				"label": "Last Name",
				"transcriptFields": ["LastName__c"]
			}, {
				"label": "Primary Phone Number",
				"transcriptFields": ["ContactNumber__c"]
			}, {
				"label": "Email Address",
				"transcriptFields": ["Email__c"]
			}, {
				"label": "Subject",
				"value": "Random Subject",
				"transcriptFields": ["Issue__c"]
			},
			{
				"label": "Service Tag",
				"value": "7Z2Y821",
				"transcriptFields": ["Service_Tag__c"]
			}, {
				"label": "Issue Description",
				"transcriptFields": ["Description__c"]
			}
			];
		embedded_svc.settings.extraPrechatInfo = [{
			"entityFieldMaps": [{
				"doCreate": false,
				"doFind": true,
				"fieldName": "LastName",
				"isExactMatch": true,
				"label":"Last Name"
			}, {
				"doCreate": false,
				"doFind": true,
				"fieldName": "FirstName",
				"isExactMatch": true,
				"label": "First Name"
			}, {
				"doCreate": false,
				"doFind": true,
				"fieldName": "Email",
				"isExactMatch": true,
				"label": "Email Address"
			}, {
				"doCreate": false,
				"doFind": true,
				"fieldName": "Primary_Phone__c",
				"isExactMatch": true,
				"label": "Primary Phone Number"
			}
			],
			"entityName": "Contact",
			"saveToTranscript": ""
		}, {
			"entityFieldMaps": [{
				"doCreate": false,
				"doFind": true,
				"fieldName":  "Name",//STORY 7193324: FY201101
				"isExactMatch": true,
				"label": "Service Tag"
			}
			],
			"entityName": "Asset",
			"saveToTranscript": "Asset__c"
		}, {
			"entityFieldMaps": [{
				"doCreate": false,
				"doFind": true,
				"fieldName": "Issue_Description__c",
				"isExactMatch": true,
				"label": "Issue Description"
			}
			],
			"entityName": "Case"
		}
		];
		
		embedded_svc.settings.prepopulatedPrechatFields = {
			FirstName: "firstNameVal",
			LastName: "lastNameVal",
			Email: "emailAddVal@dell.com",
			Primary_Phone__c: "12345",
			Issue_Description__c: "issueDescriptionVal"
		};
		
		embedded_svc.addEventHandler("onConnectionError", function (data) {
			console.log("onChasitorMessage");
		});
		embedded_svc.addEventHandler("onIdleTimeoutOccurred", function (data) {
			console.log("onChasitorMessage");
		});
		embedded_svc.addEventHandler("onChatEndedByChasitor", function (data) {
			console.log("onChasitorMessage");
		});
	
		embedded_svc.addEventHandler("onChatEndedByAgent", function (data) {
			console.log("onChasitorMessage");
		});
		embedded_svc.addEventHandler("onChasitorMessage", function (data) {
			console.log("onChasitorMessage");
		});

		embedded_svc.addEventHandler("onAgentMessage", function (data) {
			console.log("onAgentMessage");
		});
			//embedded_svc.settings.defaultMinimizedText = '...'; //(Defaults to Chat with an Expert)
			//embedded_svc.settings.disabledMinimizedText = '...'; //(Defaults to Agent Offline)
	
			//embedded_svc.settings.loadingText = ''; //(Defaults to Loading)
			//embedded_svc.settings.storageDomain = 'yourdomain.com'; //(Sets the domain for your deployment so that visitors can navigate subdomains during a chat session)
	
			// Settings for Chat
			//embedded_svc.settings.directToButtonRouting = function(prechatFormData) {
				// Dynamically changes the button ID based on what the visitor enters in the pre-chat form.
				// Returns a valid button ID.
			//};
			//embedded_svc.settings.prepopulatedPrechatFields = {}; //Sets the auto-population of pre-chat form fields
			//embedded_svc.settings.fallbackRouting = []; //An array of button IDs, user IDs, or userId_buttonId
			//embedded_svc.settings.offlineSupportMinimizedText = '...'; //(Defaults to Contact Us)
	
			embedded_svc.settings.enabledFeatures = ['LiveAgent'];
			embedded_svc.settings.entryFeature = 'LiveAgent';
	
			embedded_svc.init(
				'https://dellservices--DEV2.my.salesforce.com',
				'https://dev2-dellservices.cs45.force.com/LASnapIn',
				gslbBaseURL,
				'00D8A00000057oF',
				'Snap_Ins_Chat_Deployment',
				{
					baseLiveAgentContentURL: 'https://c.la2-c2cs-ph2.salesforceliveagent.com/content',
					deploymentId: '5720b000000GneC',
					buttonId: '5730b000000CbhT',
					baseLiveAgentURL: 'https://d.la2-c2cs-ph2.salesforceliveagent.com/chat',
					eswLiveAgentDevName: 'EmbeddedServiceLiveAgent_Parent04I0b000000blJJEAY_16520d15b68',
					isOfflineSupportEnabled: false
				}
			);
		};
	
		if (!window.embedded_svc) {
			var s = document.createElement('script');
			s.setAttribute('src', 'https://dellservices--DEV2.my.salesforce.com/embeddedservice/5.0/esw.min.js');
			s.onload = function() {
				initESW(null);
			};
			document.body.appendChild(s);
		} else {
			initESW('https://service.force.com');
		}
	</script>
</body>
</html>